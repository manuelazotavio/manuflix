<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/pesquisar.css" />
    <link rel="stylesheet" href="css/minha-lista.css" />
     <link rel="stylesheet" href="css/style.css" />
    <title>Manuflix - Pesquisa</title>
  </head>
  <body>
    <header class="cabecalho">
      <a href="index.html"
        ><img
          class="cabecalho-imagem"
          src="img/manuflix.png"
          alt="Logo do Manuflix"
      /></a>
      <nav class="cabecalho-menu">
        <a class="cabecalho-menu-item" href="pesquisar.html">Pesquisar</a>
        <a class="cabecalho-menu-item" href="minha-lista.html">Minha lista</a>
        <a class="cabecalho-menu-item" href="sobre.html">Sobre</a>
      </nav>
    </header>

    <main class="conteudo">
      <section class="destaque-lista">
        <h1 class="titulo-lista">Pesquisar Conteúdos</h1>
        <p class="paragrafo-lista">
          Encontre qualquer filme ou série que você cadastrou rapidamente.
        </p>

        <input
          type="text"
          id="inputPesquisa"
          placeholder="Digite o nome do filme ou série..."
          class="input-pesquisa"
        />

      </section>

      <section class="catalogo-lista">
        <h2 style="color: #fff">Resultados</h2>
        <div class="filme-cards"></div>
      </section>
    </main>

    <footer
      class="rodape"
      style="background: #111; color: #fff; padding: 20px; text-align: center"
    >
      <p>© 2025 Manuflix. Todos os direitos reservados.</p>
      <div style="margin-top: 10px">
        <a href="#" style="color: #fff; margin: 0 10px"
          ><i class="fab fa-facebook"></i
        ></a>
        <a href="#" style="color: #fff; margin: 0 10px"
          ><i class="fab fa-twitter"></i
        ></a>
        <a href="#" style="color: #fff; margin: 0 10px"
          ><i class="fab fa-instagram"></i
        ></a>
      </div>
    </footer>

    <script>
      const listaStreamings =
        JSON.parse(localStorage.getItem("listaStreamings")) || []; //pega do storage ou cria um array vazio caso n tenha nada
      const inputPesquisa = document.getElementById("inputPesquisa");
      const resultadoCards = document.querySelector(".filme-cards");

      function exibirResultados(filtrados) {
        resultadoCards.innerHTML = "";
        if (filtrados.length === 0) {
          resultadoCards.innerHTML =
            "<p style='color:white;'>Nenhum conteúdo encontrado.</p>";
          return;
        }

        filtrados.forEach((streaming, index) => {
          const card = document.createElement("div");
          card.classList.add("card-streaming");
          card.innerHTML = `
          <img src="${streaming.imagem}" alt="${streaming.nome}" />
          <h3 style="color: white">${streaming.nome}</h3>
          <p>${streaming.descricao}</p>
        `;
          resultadoCards.appendChild(card);
        });
      }

      inputPesquisa.addEventListener("input", () => {
        const termo = inputPesquisa.value.toLowerCase();
        const filtrados = listaStreamings.filter((s) =>
          s.nome.toLowerCase().includes(termo)
        );
        exibirResultados(filtrados);
      });

      exibirResultados(listaStreamings);
    </script>
  </body>
</html>
